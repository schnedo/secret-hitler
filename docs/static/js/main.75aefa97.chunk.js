(this["webpackJsonpsecret-hitler"]=this["webpackJsonpsecret-hitler"]||[]).push([[0],{29:function(e,n,t){},30:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),i=t(10),c=t.n(i),l=t(9),o=t(1);function s(e){var n=e.onClick,t=e.children;return Object(o.jsx)("button",{onClick:n,children:t})}var d,u,p=t(6),h=t(7),j=Object(h.a)(d||(d=Object(p.a)(["\n  body {\n    overflow: hidden;\n  }\n"]))),b=h.b.div(u||(u=Object(p.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 100vh;\n  min-width: 100vw;\n  position: fixed;\n  top: 0;\n  backdrop-filter: ",";\n"])),(function(e){return e.withBackdrop&&"brightness(40%)"}));var f=function(e){var n=e.open,t=e.onClose,r=e.children,a=e.withBackdrop;return n?Object(o.jsxs)(b,{withBackdrop:a,onClick:function(e){t&&e.target===e.currentTarget&&t()},children:[Object(o.jsx)(j,{}),Object(o.jsx)("dialog",{open:n,children:r})]}):Object(o.jsx)(o.Fragment,{})};t.p;t.p;t.p;t.p;t.p;t.p;t.p;t.p;t.p;t.p;t.p;t.p;t.p;t.p;t.p;t.p;t.p;t.p;t.p;t.p;t.p;t.p;t.p;var v=t(17);function O(e){var n=e.open,t=e.onClose;return n?Object(o.jsx)(f,{withBackdrop:!0,open:n,onClose:t,children:Object(o.jsxs)("div",{children:["Secret Hitler is a game developed by Goat, Wolf, & Cabbage, licensed under the"," ",Object(o.jsx)("a",{href:"https://creativecommons.org/licenses/by-nc-sa/4.0/deed.en",children:"CC BY-NC-SA 4.0"})]})}):Object(o.jsx)(o.Fragment,{})}function m(){var e=Object(r.useState)(!1),n=Object(v.a)(e,2),t=n[0],a=n[1];return Object(o.jsxs)("footer",{children:[Object(o.jsx)(s,{onClick:function(){return a(!0)},children:"License"}),Object(o.jsx)(O,{open:t,onClose:function(){return a(!1)}})]})}function g(e,n){return null===e?(t=0,r=n.length,t=Math.ceil(t),r=Math.floor(r),Math.floor(Math.random()*(r-t)+t)):(e+1)%n.length;var t,r}var x=t(2),C=Object(x.b)("government/nominateChancellor"),y=t(16);var k=["hitler","fascist","liberal","liberal","liberal","liberal","fascist","liberal","fascist","liberal"];var w=t(18);var F,M,B=(M=function(e){for(var n=Object(w.a)(e),t=n.length-1;t>0;t--){var r=Math.floor(Math.random()*(t+1)),a=[n[r],n[t]];n[t]=a[0],n[r]=a[1]}return n},F=function(e){return M(function(e){return k.slice(0,e)}(e))},function(e){var n,t=F(e.length),r=Object(y.a)(e);try{for(r.s();!(n=r.n()).done;){var a=n.value,i=t.pop();if(void 0===i)throw Error("Assigning Roles Failed");a.role=i}}catch(c){r.e(c)}finally{r.f()}return e});function E(e){var n=e.player;return Object(o.jsxs)("div",{children:[n.title?n.title+" ":void 0,n.name,": ",n.role]})}var S=Object(x.b)("game/start"),P=["John","Martha","Bob","Alice","Mohammed"];var N,A=Object(x.c)({phase:null,players:P.map((function(e){return{name:e,role:null,title:null,isElectable:!0}})),government:null,nominatedGovernment:null,presidentialCandidate:null},(function(e){e.addCase(S,(function(e){e.phase="nominate",e.players=B(e.players),e.presidentialCandidate=g(e.presidentialCandidate,e.players),e.players[e.presidentialCandidate].isElectable=!1})).addCase(C,(function(e,n){var t,r,a,i=n.payload;if(null===e.presidentialCandidate)throw Error("cannot nominate chancellor without presidential candidate");if(t=e.players.length,r=e.government,(a={chancellor:i,president:e.presidentialCandidate}).chancellor===a.president||a.chancellor===(null===r||void 0===r?void 0:r.chancellor)||a.chancellor===(null===r||void 0===r?void 0:r.president)&&5!==t)throw Error("Election of ".concat(i," is not valid"));e.nominatedGovernment={president:e.presidentialCandidate,chancellor:i},e.phase="elect"}))})),G=h.b.div(N||(N=Object(p.a)(["\n  display: flex;\n"])));function I(e){var n=e.electablePlayers,t=e.onNominated;return Object(o.jsxs)(f,{open:!0,children:[Object(o.jsx)("div",{children:"Please nominate your chancellor candidate."}),n.map((function(e){return Object(o.jsxs)(G,{children:[Object(o.jsx)("button",{onClick:function(){return t(e)},children:"Nominate"}),Object(o.jsx)(E,{player:e})]})}))]})}function J(){var e=Object(l.c)((function(e){return e.gameState})),n=e.players,t=e.phase,a=Object(l.b)();return Object(o.jsxs)(o.Fragment,{children:[n.map((function(e,n){return Object(o.jsx)(r.Fragment,{children:Object(o.jsx)(E,{player:e})},n)})),"nominate"===t?Object(o.jsx)(I,{electablePlayers:n.filter((function(e){return e.isElectable})),onNominated:function(e){return a(C(n.findIndex((function(n){return n===e}))))}}):Object(o.jsx)(o.Fragment,{}),null!==t?Object(o.jsx)(o.Fragment,{}):Object(o.jsx)(s,{onClick:function(){return a(S())},children:"Start"}),Object(o.jsx)(m,{})]})}t(29);var L=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,31)).then((function(n){var t=n.getCLS,r=n.getFID,a=n.getFCP,i=n.getLCP,c=n.getTTFB;t(e),r(e),a(e),i(e),c(e)}))},T=Object(x.a)({reducer:{gameState:A}});c.a.render(Object(o.jsx)(a.a.StrictMode,{children:Object(o.jsx)(l.a,{store:T,children:Object(o.jsx)(J,{})})}),document.getElementById("root")),L()}},[[30,1,2]]]);
//# sourceMappingURL=main.75aefa97.chunk.js.map